---
interface Props {
  title: string;
  description?: string;
}

const { title, description = "My 2026 Bug Bounty Journey - Tracking my path to becoming a security researcher" } = Astro.props;

import '../styles/global.css';

const baseUrl = import.meta.env.BASE_URL;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href={`${baseUrl}/favicon.svg`} />
    <meta name="generator" content={Astro.generator} />
    
    <!-- SEO -->
    <title>{title}</title>
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="website" />
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  </head>
  <body class="min-h-screen bg-deep-blue text-slate-100">
    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-charcoal/80 backdrop-blur-md border-b border-slate-700/50">
      <div class="container-custom py-4">
        <div class="flex items-center justify-between">
          <a href={`${baseUrl}`} class="text-xl font-bold text-gradient hover:opacity-80 transition">
            Bug Bounty Journey
          </a>
          
          <!-- Desktop Navigation -->
          <div class="hidden md:flex items-center space-x-6">
            <a href={baseUrl} class="nav-link">Home</a>
            <a href={`${baseUrl}/logs/`} class="nav-link">Timeline</a>
            <a href={`${baseUrl}/reviews/`} class="nav-link">Reviews</a>
            <a href={`${baseUrl}/roadmap/`} class="nav-link">Roadmap</a>
            
            <!-- Quarters Dropdown -->
            <div class="relative group">
              <button class="nav-link flex items-center">
                Quarters
                <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
                </svg>
              </button>
              <div class="absolute left-0 mt-0 w-48 bg-charcoal/95 border border-slate-700 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                <a href={`${baseUrl}/quarters/q1/`} class="block px-4 py-2 text-slate-300 hover:text-soft-indigo hover:bg-slate-800/50 first:rounded-t-lg">Q1 - Foundation</a>
                <a href={`${baseUrl}/quarters/q2/`} class="block px-4 py-2 text-slate-300 hover:text-soft-indigo hover:bg-slate-800/50">Q2 - Execution</a>
                <a href={`${baseUrl}/quarters/q3/`} class="block px-4 py-2 text-slate-300 hover:text-soft-indigo hover:bg-slate-800/50">Q3 - Specialization</a>
                <a href={`${baseUrl}/quarters/q4/`} class="block px-4 py-2 text-slate-300 hover:text-soft-indigo hover:bg-slate-800/50 last:rounded-b-lg">Q4 - Mastery</a>
              </div>
            </div>
            
            <a href={`${baseUrl}/tags/`} class="nav-link">Tags</a>
            <a href={`${baseUrl}/impossible-list/`} class="nav-link">Impossible List</a>
            <a href={`${baseUrl}/about/`} class="nav-link">About</a>
          </div>

          <!-- Mobile Menu Button -->
          <button id="mobile-menu-btn" class="md:hidden text-slate-300 hover:text-white">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>

        <!-- Mobile Navigation -->
        <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4 space-y-2">
          <a href={baseUrl} class="block py-2 hover:text-sage transition">Home</a>
          <a href={`${baseUrl}/logs/`} class="block py-2 hover:text-sage transition">Timeline</a>
          <a href={`${baseUrl}/reviews/`} class="block py-2 hover:text-sage transition">Reviews</a>
          <a href={`${baseUrl}/roadmap/`} class="block py-2 hover:text-sage transition">Roadmap</a>
          <div class="py-2">
            <div class="text-sm font-semibold text-slate-400 mb-2">Quarters</div>
            <div class="pl-4 space-y-1">
              <a href={`${baseUrl}/quarters/q1/`} class="block py-1 text-sm hover:text-sage transition">Q1 - Foundation</a>
              <a href={`${baseUrl}/quarters/q2/`} class="block py-1 text-sm hover:text-sage transition">Q2 - Execution</a>
              <a href={`${baseUrl}/quarters/q3/`} class="block py-1 text-sm hover:text-sage transition">Q3 - Specialization</a>
              <a href={`${baseUrl}/quarters/q4/`} class="block py-1 text-sm hover:text-sage transition">Q4 - Mastery</a>
            </div>
          </div>
          <a href={`${baseUrl}/tags/`} class="block py-2 hover:text-sage transition">Tags</a>
          <a href={`${baseUrl}/impossible-list/`} class="block py-2 hover:text-sage transition">Impossible List</a>
          <a href={`${baseUrl}/about/`} class="block py-2 hover:text-sage transition">About</a>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="min-h-screen">
      <slot />
    </main>

    <!-- Footer -->
    <footer class="bg-darker border-t border-slate-800 mt-20">
      <div class="container-custom py-8">
        <div class="flex flex-col md:flex-row justify-between items-center">
          <p class="text-slate-400 text-sm mb-4 md:mb-0">
            Â© 2025 Bug Bounty Journey. Built with Astro.
          </p>
          <div class="flex space-x-4">
            <a href="https://github.com/heyiamuday" target="_blank" rel="noopener" class="text-slate-400 hover:text-sage transition">
              GitHub
            </a>
          </div>
        </div>
      </div>
    </footer>

    <style>
      .nav-link {
        @apply text-slate-300 hover:text-sage transition-colors duration-200 font-medium;
      }
    </style>

    <script>
      // Mobile menu toggle
      const mobileMenuBtn = document.getElementById('mobile-menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      
      mobileMenuBtn?.addEventListener('click', () => {
        mobileMenu?.classList.toggle('hidden');
      });
    </script>
  </body>
</html>
